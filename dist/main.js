(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(l){let a=(l-n)/o;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))},t=({formId:t,someElem:o=[]})=>{const n=document.getElementById(t),r=document.querySelector(".mess"),l=document.createElement("div");r.addEventListener("input",(()=>{r.value=r.value.replace(/[^а-я0-9 -=/,:;\()?+.]+/gi,"")}));try{if(!n)throw new Error("Верните форму на место!");n.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=n.querySelectorAll("input"),r=new FormData(n),a={};var c;l.textContent="Загрузка...",l.style.color="white",n.append(l),r.forEach(((e,t)=>{a[t]=e})),o.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?a[e.id]=t.textContent:"input"===e.type&&(a[e.id]=t.value)})),(e=>{const t=e.querySelector('[placeholder="Ваше имя"]'),o=e.querySelector("[type=tel]"),n=e.querySelector("[type=email]");let r=!1;const l=(e,t,o)=>{t.style.border="none";const n=t.nextElementSibling;if(n&&n.remove(),e){const e=document.createElement("p");e.textContent=o,e.style.cssText=` font-size: 12px;\n                                            color: red;\n                                            transform: ${getComputedStyle(t).transform}`,t.style.border="1px solid red",t.insertAdjacentElement("afterend",e)}};return/[^а-я^ ^-]+/i.test(t.value)||""===t.value?(l(!0,t,"Введите Ваше имя"),r=!0):l(!1,t),/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(n.value)?l(!1,n):(l(!0,n,"email введен не корректно!"),r=!0),/[^\d^\()^-]/.test(o.value)||""===o.value?(l(!0,o,"Недопустимые символы"),r=!0):l(!1,o),r})(n)?console.log("error!!!"):(c=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"aplicition/json"}}).then((e=>e.json()))).then((o=>{l.textContent="Спасибо! Наш менеджер с Вами свяжется!",t.forEach((e=>{e.value=""})),setTimeout((()=>{if(l.textContent="","form3"===n.id){const t=document.querySelector(".popup");e({duration:500,timing:e=>e,draw(e){t.style.opacity=1-e}}),setTimeout((()=>{t.style.display="none"}),500)}}),3e3)})).catch((e=>{l.textContent="Ошибка..."}))})()}))}catch(e){console.log(e.message)}};document.querySelectorAll('[name="user_form"]').forEach((e=>{t({formId:e.id,someElem:[{type:"block",id:"total"}]})})),(e=>{const t=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),n=document.getElementById("timer-seconds");let r;r=setInterval((()=>{const l=(()=>{const t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})(),a=e=>e<=9?"0"+e:e;l.timeRemaining<=0?(t.textContent="00",o.textContent="00",n.textContent="00",clearInterval(r)):(t.textContent=a(l.hours),o.textContent=a(l.minutes),n.textContent=a(l.seconds))}),1e3)})("29 april 2024"),(()=>{const e=document.querySelector("menu");document.body.addEventListener("click",(t=>{t.target.closest(".menu")?e.classList.add("active-menu"):(t.target.matches("ul > li > a")||t.target.classList.contains("close-btn")||!t.target.closest("menu"))&&e.classList.remove("active-menu")}))})(),(()=>{const t=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((o=>{o.addEventListener("click",(()=>{t.style.display="block",screen.width>=768?e({duration:500,timing:e=>e,draw(e){t.style.opacity=e}}):(t.style.display="block",t.style.opacity=1)}))})),t.addEventListener("click",(o=>{o.target.closest(".popup-content")&&!o.target.classList.contains("popup-close")||(screen.width>=768?(e({duration:500,timing:e=>e,draw(e){t.style.opacity=1-e}}),setTimeout((()=>{t.style.display="none"}),500)):(t.style.display="none",t.style.opacity=0))}))})(),(()=>{const e=document.querySelector("main > a"),t=document.querySelectorAll("menu > ul > li > a"),o=document.getElementById("service-block");t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),e.addEventListener("click",(e=>{e.preventDefault(),o.scrollIntoView({behavior:"smooth"})}))})(),((t=100)=>{const o=document.querySelector(".calc-block"),n=o.querySelector(".calc-type"),r=o.querySelector(".calc-square"),l=o.querySelector(".calc-count"),a=o.querySelector(".calc-day"),c=document.getElementById("total");o.addEventListener("input",(o=>{var s;o.target!==r&&o.target!==l&&o.target!==a||(o.preventDefault(),(s=o.target).value=s.value.replace(/\D/,"")),o.target!==n&&o.target!==r&&o.target!==l&&o.target!==a||(()=>{const o=+n.options[n.selectedIndex].value,s=r.value;let i=0,d=1,u=1;l.value>1&&(d+=+l.value/10),a.value&&a.value<5?u=2:a.value&&a.value<10&&(u=1.5),i=n.value&&r.value?t*o*s*d*u:0,e({duration:500,timing:e=>Math.pow(e,2),draw(e){c.textContent=Math.floor(+c.textContent+(+i-+c.textContent)*e)}})})()}))})(100),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{e.target.closest(".service-header-tab")&&t.forEach(((t,n)=>{t===e.target.closest(".service-header-tab")?(t.classList.add("active"),o[n].classList.remove("d-none")):(t.classList.remove("active"),o[n].classList.add("d-none"))}))}))})(),((e,t,o,n="slide-active",r="dot-active")=>{const l=document.querySelector(e),a=document.querySelectorAll(t),c=document.querySelector(o);let s,i,d=0;if(!l)return;if(!a)return;if(!c)return;const u=(e,t,o)=>{e[t].classList.remove(o)},m=(e,t,o)=>{e[t].classList.add(o)},y=()=>{u(a,d,n),u(s,d,r),d++,d>=a.length&&(d=0),m(a,d,n),m(s,d,r)},p=(e=1500)=>{i=setInterval(y,e)};l.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(u(a,d,n),u(s,d,r),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains("dot")&&s.forEach(((t,o)=>{e.target===t&&(d=o)})),d>=a.length&&(d=0),d<0&&(d=a.length-1),m(a,d,n),m(s,d,r))})),l.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(i)}),!0),l.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&p(2e3)}),!0),(()=>{for(let e=0;e<a.length;e++){const e=document.createElement("li");e.classList.add("dot"),c.append(e)}s=c.querySelectorAll(".dot"),s[0].classList.add(r)})(),p(2e3)})(".portfolio-content",".portfolio-item",".portfolio-dots","portfolio-item-active","dot-active")})();