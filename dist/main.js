(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),n=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds");let r;r=setInterval((()=>{const e=(()=>{const e=(new Date("16 april 2024").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})(),c=e=>e<=9?"0"+e:e;e.timeRemaining<=0?(t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(r)):(t.textContent=c(e.hours),n.textContent=c(e.minutes),o.textContent=c(e.seconds))}),1e3)})(),(()=>{const e=document.querySelector("menu");document.body.addEventListener("click",(t=>{t.target.closest(".menu")?e.classList.add("active-menu"):(t.target.matches("ul > li > a")||t.target.classList.contains("close-btn")||!t.target.closest("menu"))&&e.classList.remove("active-menu")}))})(),(()=>{const e=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block",screen.width>=768&&(()=>{let t,n=0;const o=()=>{n+=.05,t=requestAnimationFrame(o),n<=1?e.style.opacity=n:cancelAnimationFrame(t)};o()})()}))})),e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(screen.width>=768?(()=>{let t,n=1;const o=()=>{n-=.05,t=requestAnimationFrame(o),n>=0?e.style.opacity=n:(cancelAnimationFrame(t),e.style.display="none")};o()})():e.style.display="none")}))})(),(()=>{const e=document.querySelector("main > a"),t=document.querySelectorAll("menu > ul > li > a"),n=document.getElementById("service-block");t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),e.addEventListener("click",(e=>{e.preventDefault(),n.scrollIntoView({behavior:"smooth"})}))})(),(()=>{const e=document.querySelector(".calc-block"),t=e.querySelector(".calc-square"),n=e.querySelector(".calc-count"),o=e.querySelector(".calc-day"),r=e=>{e.value=e.value.replace(/\D/,"")};t.addEventListener("input",(e=>{e.preventDefault(),r(t)})),n.addEventListener("input",(e=>{e.preventDefault(),r(n)})),o.addEventListener("input",(e=>{e.preventDefault(),r(o)}))})(),(()=>{const e=document.querySelectorAll('[name="user_form"]'),t=document.querySelector(".mess"),n=document.querySelector(".popup"),o=document.querySelector("#form3");let r;const c=e=>{let t,n=1;const o=()=>{n-=.05,t=requestAnimationFrame(o),n>=0?e.style.opacity=n:(cancelAnimationFrame(t),e.style.display="none")};o()};r=document.createElement("div"),r.textContent="Данные отправлены!",r.style.cssText="  position: fixed;  \n                                    color: white;      \n                                    font-size: 18px;\n                                    position: fixed;\n                                    padding-top: 35px;\n                                    right: 0;\n                                    left: 0;\n                                    top: 50px;\n                                    bottom: 0;\n                                    width: 200px;\n                                    height: 100px;\n                                    z-index: 9;\n                                    margin: 0 auto;\n                                    background-color: rgba(0,0,0,.5);\n                                    opacity: 0;\n                                    display: none",document.body.insertAdjacentElement("beforeend",r),t.addEventListener("input",(()=>{t.value=t.value.replace(/[^а-я -]+/gi,"")})),e.forEach((e=>{e.addEventListener("submit",(l=>{l.preventDefault();const a=e.querySelector('[placeholder="Ваше имя"]'),s=e.querySelector("[type=tel]"),i=e.querySelector("[type=email]");let d=!1;const u=(e,t,n)=>{t.style.border="none";const o=t.nextElementSibling;if(o&&o.remove(),e){const e=document.createElement("p");e.textContent=n,e.style.cssText=` font-size: 12px;\n                                                color: red;\n                                                transform: ${getComputedStyle(t).transform}`,t.style.border="1px solid red",t.insertAdjacentElement("afterend",e)}};/[^а-я^ ^-]+/i.test(a.value)||""===a.value?(u(!0,a,"Введите Ваше имя"),d=!0):u(!1,a),/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(i.value)?u(!1,i):(u(!0,i,"email введен не корректно!"),d=!0),/[^\d^\()^-]/.test(s.value)||""===s.value?(u(!0,s,"Недопустимые символы"),d=!0):u(!1,s),d||(l.target===o&&c(n),a.value="",i.value="",s.value="",t.value="",(e=>{let t,n=0;e.style.display="block";const o=()=>{n+=.05,t=requestAnimationFrame(o),n<=1?e.style.opacity=n:(cancelAnimationFrame(t),setTimeout((()=>{c(e)}),1500))};o()})(r))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{e.target.closest(".service-header-tab")&&t.forEach(((t,o)=>{t===e.target.closest(".service-header-tab")?(t.classList.add("active"),n[o].classList.remove("d-none")):(t.classList.remove("active"),n[o].classList.add("d-none"))}))}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots");let o,r,c=0;const l=(e,t,n)=>{e[t].classList.remove(n)},a=(e,t,n)=>{e[t].classList.add(n)},s=()=>{l(t,c,"portfolio-item-active"),l(o,c,"dot-active"),c++,c>=t.length&&(c=0),a(t,c,"portfolio-item-active"),a(o,c,"dot-active")},i=(e=1500)=>{r=setInterval(s,e)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(l(t,c,"portfolio-item-active"),l(o,c,"dot-active"),e.target.matches("#arrow-right")?c++:e.target.matches("#arrow-left")?c--:e.target.classList.contains("dot")&&o.forEach(((t,n)=>{e.target===t&&(c=n)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),a(t,c,"portfolio-item-active"),a(o,c,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(r)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&i(2e3)}),!0),(()=>{for(let e=0;e<t.length;e++){const e=document.createElement("li");e.classList.add("dot"),n.append(e)}o=n.querySelectorAll(".dot")})(),i(2e3)})()})();