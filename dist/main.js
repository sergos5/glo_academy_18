(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(l){let a=(l-n)/o;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))};(e=>{const t=document.getElementById("timer-hours"),o=document.getElementById("timer-minutes"),n=document.getElementById("timer-seconds");let r;r=setInterval((()=>{const e=(()=>{const e=(new Date("17 april 2024").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})(),l=e=>e<=9?"0"+e:e;e.timeRemaining<=0?(t.textContent="00",o.textContent="00",n.textContent="00",clearInterval(r)):(t.textContent=l(e.hours),o.textContent=l(e.minutes),n.textContent=l(e.seconds))}),1e3)})(),(()=>{const e=document.querySelector("menu");document.body.addEventListener("click",(t=>{t.target.closest(".menu")?e.classList.add("active-menu"):(t.target.matches("ul > li > a")||t.target.classList.contains("close-btn")||!t.target.closest("menu"))&&e.classList.remove("active-menu")}))})(),(()=>{const t=document.querySelector(".popup");document.querySelectorAll(".popup-btn").forEach((o=>{o.addEventListener("click",(()=>{t.style.display="block",screen.width>=768?e({duration:1e3,timing:e=>e,draw(e){t.style.opacity=e}}):(t.style.display="block",t.style.opacity=1)}))})),t.addEventListener("click",(o=>{o.target.closest(".popup-content")&&!o.target.classList.contains("popup-close")||(screen.width>=768?(e({duration:1e3,timing:e=>e,draw(e){t.style.opacity=1-e}}),setTimeout((()=>{t.style.display="none"}),1e3)):(t.style.display="none",t.style.opacity=0))}))})(),(()=>{const e=document.querySelector("main > a"),t=document.querySelectorAll("menu > ul > li > a"),o=document.getElementById("service-block");t.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"})}))})),e.addEventListener("click",(e=>{e.preventDefault(),o.scrollIntoView({behavior:"smooth"})}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=t.querySelector(".calc-type"),n=t.querySelector(".calc-square"),r=t.querySelector(".calc-count"),l=t.querySelector(".calc-day"),a=document.getElementById("total");t.addEventListener("input",(t=>{var c;t.target!==n&&t.target!==r&&t.target!==l||(t.preventDefault(),(c=t.target).value=c.value.replace(/\D/,"")),t.target!==o&&t.target!==n&&t.target!==r&&t.target!==l||(()=>{const t=+o.options[o.selectedIndex].value,c=n.value;let s=0,i=1,d=1;r.value>1&&(i+=+r.value/10),l.value&&l.value<5?d=2:l.value&&l.value<10&&(d=1.5),s=o.value&&n.value?e*t*c*i*d:0,(e=>{let t=+a.textContent;const o=(+e-t)/50;let n=0;const r=setInterval((()=>{t=Math.floor(t+o),a.textContent=t,n++,50===n&&(a.textContent=Math.floor(e),clearInterval(r))}),10)})(s)})()}))})(100),(()=>{const t=document.querySelectorAll('[name="user_form"]'),o=document.querySelector(".mess"),n=document.querySelector(".popup"),r=document.querySelector("#form3");let l;l=document.createElement("div"),l.textContent="Данные отправлены!",l.style.cssText="  position: fixed;  \n                                    color: white;      \n                                    font-size: 18px;\n                                    position: fixed;\n                                    padding-top: 35px;\n                                    right: 0;\n                                    left: 0;\n                                    top: 50px;\n                                    bottom: 0;\n                                    width: 200px;\n                                    height: 100px;\n                                    z-index: 9;\n                                    margin: 0 auto;\n                                    background-color: rgba(0,0,0,.5);\n                                    opacity: 0;\n                                    display: none",document.body.insertAdjacentElement("beforeend",l),o.addEventListener("input",(()=>{o.value=o.value.replace(/[^а-я -]+/gi,"")})),t.forEach((t=>{t.addEventListener("submit",(a=>{a.preventDefault();const c=t.querySelector('[placeholder="Ваше имя"]'),s=t.querySelector("[type=tel]"),i=t.querySelector("[type=email]");let d=!1;const u=(e,t,o)=>{t.style.border="none";const n=t.nextElementSibling;if(n&&n.remove(),e){const e=document.createElement("p");e.textContent=o,e.style.cssText=` font-size: 12px;\n                                                color: red;\n                                                transform: ${getComputedStyle(t).transform}`,t.style.border="1px solid red",t.insertAdjacentElement("afterend",e)}};/[^а-я^ ^-]+/i.test(c.value)||""===c.value?(u(!0,c,"Введите Ваше имя"),d=!0):u(!1,c),/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i.test(i.value)?u(!1,i):(u(!0,i,"email введен не корректно!"),d=!0),/[^\d^\()^-]/.test(s.value)||""===s.value?(u(!0,s,"Недопустимые символы"),d=!0):u(!1,s),d||(a.target===r&&screen.width>=768?(e({duration:1e3,timing:e=>e,draw(e){n.style.opacity=1-e}}),setTimeout((()=>{n.style.display="none"}),1e3)):a.target===r&&(n.style.display="none",n.style.opacity=0),c.value="",i.value="",s.value="",o.value="",l.style.display="block",screen.width>=768?(e({duration:1e3,timing:e=>e,draw(e){l.style.opacity=e}}),setTimeout((()=>{e({duration:1e3,timing:e=>e,draw(e){l.style.opacity=1-e}})}),1500),setTimeout((()=>{l.style.display="none"}),2500)):(l.style.display="block",l.style.opacity=1,setTimeout((()=>{l.style.display="none",l.style.opacity=0}),1e3)))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{e.target.closest(".service-header-tab")&&t.forEach(((t,n)=>{t===e.target.closest(".service-header-tab")?(t.classList.add("active"),o[n].classList.remove("d-none")):(t.classList.remove("active"),o[n].classList.add("d-none"))}))}))})(),((e,t,o,n="slide-active",r="dot-active")=>{const l=document.querySelector(e),a=document.querySelectorAll(t),c=document.querySelector(o);let s,i,d=0;if(!l)return;if(!a)return;if(!c)return;const u=(e,t,o)=>{e[t].classList.remove(o)},m=(e,t,o)=>{e[t].classList.add(o)},y=()=>{u(a,d,n),u(s,d,r),d++,d>=a.length&&(d=0),m(a,d,n),m(s,d,r)},p=(e=1500)=>{i=setInterval(y,e)};l.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(u(a,d,n),u(s,d,r),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains("dot")&&s.forEach(((t,o)=>{e.target===t&&(d=o)})),d>=a.length&&(d=0),d<0&&(d=a.length-1),m(a,d,n),m(s,d,r))})),l.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(i)}),!0),l.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&p(2e3)}),!0),(()=>{for(let e=0;e<a.length;e++){const e=document.createElement("li");e.classList.add("dot"),c.append(e)}s=c.querySelectorAll(".dot"),s[0].classList.add(r)})(),p(2e3)})(".portfolio-content",".portfolio-item",".portfolio-dots","portfolio-item-active","dot-active")})();